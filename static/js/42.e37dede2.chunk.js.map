{"version":3,"file":"static/js/42.e37dede2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/service/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn__goBack\":\"MovieDetailsPage_btn__goBack__ZykH9\",\"icon\":\"MovieDetailsPage_icon__PTpsZ\",\"container\":\"MovieDetailsPage_container__fntPy\",\"img\":\"MovieDetailsPage_img__+Nbrw\",\"wrapper\":\"MovieDetailsPage_wrapper__TH-Xi\",\"title\":\"MovieDetailsPage_title__63V3V\",\"score\":\"MovieDetailsPage_score__zCRy6\",\"sub_title\":\"MovieDetailsPage_sub_title__BB7z4\",\"desc\":\"MovieDetailsPage_desc__Z1cdw\",\"details_container\":\"MovieDetailsPage_details_container__pcLf5\",\"details_title\":\"MovieDetailsPage_details_title__L7rmB\",\"list\":\"MovieDetailsPage_list__xeLC8\",\"link\":\"MovieDetailsPage_link__rhdjc\"};","import { useState, useEffect, Suspense } from 'react';\nimport { useParams, Link, useNavigate, Outlet, useLocation } from 'react-router-dom';\n\nimport { searchMovieDetails } from '../../shared/service/movieApi';\nimport { FaLongArrowAltLeft } from 'react-icons/fa';\n\nimport css from \"./MovieDetailsPage.module.css\";\n\nconst MovieDetails = () => {\n    const [movieDetails, setmovieDetails] = useState({});\n    const { id } = useParams();\n    const [error, setError] = useState('');\n    const navigation = useNavigate();\n    const location = useLocation();\n    const { from } = location.state;\n\n    const BASE_POSTER_URL = 'https://image.tmdb.org/t/p/w500';\n    const POSTER_URL = 'https://freedesignfile.com/upload/2014/07/Movie-time-design-elements-vector-backgrounds-04.jpg';\n\n    useEffect(() => {\n        const fetchTrendingMovies = async () => {\n            try {\n                const data = await searchMovieDetails(id);\n                setmovieDetails(data);\n            }\n            catch (error) {\n                setError(error.message);\n            }\n        };\n        fetchTrendingMovies();\n    }, [setmovieDetails, setError, id]);\n\n    const {\n        title,\n        name,\n        poster_path,\n        vote_average,\n        overview,\n        release_date,\n        first_air_date,\n        genres,\n    } = movieDetails;\n\n    const movieReleaseDate = release_date ?? first_air_date;\n    const movieReleaseYear = movieReleaseDate !== undefined ? movieReleaseDate.slice(0, 4) : \"\";\n\n    const genresMovie = genres\n        ? genres.map(genre => genre.name).join(', ')\n        : 'Genre not specified';\n\n    return error === \"\" ? (\n        <>\n            <button className={css.btn__goBack} onClick={() => navigation(from)}>\n                <FaLongArrowAltLeft className={css.icon} /> Go back\n            </button>\n            <div className={css.container}>\n                <img\n                    className={css.img}\n                    src={poster_path ? `${BASE_POSTER_URL}${poster_path}` : POSTER_URL}\n                    alt={movieDetails.title}\n                />\n                <div className={css.wrapper}>\n                    <h2 className={css.title}>{title ?? name} ({movieReleaseYear})</h2>\n                    <p className={css.score}>Use Score: {Math.round(vote_average * 10)}%</p>\n                    <h3 className={css.sub_title}>Overview</h3>\n                    <p className={css.desc}>{overview}</p>\n                    <h3 className={css.sub_title}>Genres</h3>\n                    <p className={css.desc}>{genresMovie}</p>\n                </div>\n            </div>\n            <div className={css.details_container}>\n                <h3 className={`${css.sub_title} ${css.details_title}`}>Additional information</h3>\n                <ul className={css.list}>\n                    <li className={css.desc}>\n                        <Link to=\"cast\"\n                            state={{ from }}\n                            className={css.link}>\n                            Cast\n                        </Link>\n                    </li>\n                    <li className={css.desc}>\n                        <Link\n                            to=\"reviews\"\n                            state={{ from }}\n                            className={`${css.link} `}\n                        >\n                            Reviews\n                        </Link>\n                    </li>\n                </ul>\n                <Suspense fallback={<div>Loading subpage...</div>}>\n                    <Outlet />\n                </Suspense>\n            </div>\n        </>\n    ) : (<p>Помилка</p>);\n};\n\nexport default MovieDetails;","import axios from \"axios\";\n\nconst BASE_KEY = \"4e47c6b84e3558dc0b7a4e4e5f8f705d\";\n\nconst instanceTrendingMovies = axios.create({\n    baseURL: \"https://api.themoviedb.org/3/trending/all/day?\",\n});\n\nexport const searchTrendingMovies = async () => {\n    const { data } = await instanceTrendingMovies.get(\"/\", {\n        params: {\n            api_key: BASE_KEY,\n        }\n    });\n    return data;\n};\n\nexport const searchMovies = async (search) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=${BASE_KEY}&query=${search}&language=en-US&page=1&include_adult=false`);\n    return data;\n};\n\nexport const searchMovieDetails = async (id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${BASE_KEY}&language=en-US`);\n    return data;\n};\n\nexport const searchMovieCast = async (id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${BASE_KEY}&language=en-US`);\n    return data;\n};\n\nexport const searchMovieReviews = async (id) => {\n    const { data } = await axios.get(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${BASE_KEY}&language=en-US&page=1`);\n    return data;\n};"],"names":["useState","movieDetails","setmovieDetails","id","useParams","error","setError","navigation","useNavigate","from","useLocation","state","useEffect","fetchTrendingMovies","searchMovieDetails","data","message","title","name","poster_path","vote_average","overview","release_date","first_air_date","genres","movieReleaseDate","movieReleaseYear","undefined","slice","genresMovie","map","genre","join","className","css","onClick","src","alt","Math","round","to","Suspense","fallback","BASE_KEY","instanceTrendingMovies","axios","baseURL","searchTrendingMovies","get","params","api_key","searchMovies","search","searchMovieCast","searchMovieReviews"],"sourceRoot":""}